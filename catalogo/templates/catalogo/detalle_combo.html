{% load static %}
<div id="modal-detalle" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>

        <!-- Imagen -->
        {% if combo.imagen %}
            <img src="{{ combo.imagen.url }}" alt="{{ combo.nombre }}" class="modal-img">
        {% endif %}

        <h2>{{ combo.nombre }}</h2>
        <p><strong>Precio:</strong> ${{ combo.precio }}</p>
        {% if combo.descripcion %}
            <p><strong>Descripción:</strong> {{ combo.descripcion }}</p>
        {% endif %}

        <!-- Categorías -->
        {% if combo.categorias.exists %}
            <p><strong>Categorías:</strong> 
                {% for cat in combo.categorias.all %}
                    {{ cat.nombre }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </p>
        {% endif %}

        <!-- Subcategorías -->
        {% if combo.subcategorias.exists %}
            <p><strong>Subcategorías:</strong> 
                {% for sub in combo.subcategorias.all %}
                    {{ sub.nombre }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </p>
        {% endif %}
    </div>
</div>

<style>
/* Fondo del modal */
.modal {
    display: none; /* Oculto por defecto */
    position: fixed; 
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5);
}

/* Contenido del modal */
.modal-content {
    background-color: #fff;
    margin: 10% auto;
    padding: 20px;
    border-radius: 10px;
    width: 300px;
    position: relative;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* Botón cerrar */
.close {
    position: absolute;
    top: 5px;
    right: 10px;
    color: #333;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
}

.modal-img {
    width: 100%;
    border-radius: 5px;
    margin-bottom: 10px;
}
</style>

<script>
const modal = document.getElementById("modal-detalle");
const closeBtn = modal.querySelector(".close");

// Función para abrir modal
function abrirModal() {
    modal.style.display = "block";
}

// Cerrar modal al dar click en "X"
closeBtn.onclick = function() {
    modal.style.display = "none";
}

// Cerrar modal al dar click fuera del contenido
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
</script>
